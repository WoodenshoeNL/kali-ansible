
- name: BlackCat - clone repository
  ansible.builtin.git:
    repo: https://github.com/azurekid/blackcat.git
    dest: "{{ login_home }}/blackcat"            # fixed path keeps things predictable
    version: main
    update: yes
    # force: yes           # uncomment if {{ login_home }}/blackcat already exists but isnâ€™t a repo
  become: yes
  become_user: "{{ login_user }}"
  tags:
    - blackcat
    - cloud

- name: BlackCat - add quick reminder read-me
  ansible.builtin.copy:
    dest: "{{ login_home }}/README_blackCat_RUN.txt"
    mode: "0644"
    content: |
      HOW TO RUN

      pwsh
      PS> cd blackcat
      PS> import-module ./blackcat.psd1
  become: yes
  become_user: "{{ login_user }}"
  tags:
    - blackcat
    - cloud